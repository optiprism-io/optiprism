syntax = "proto3";
package backup;

message Backup {
  uint64 id = 1;
  int64  created_at = 2;
  optional int64  updated_at = 3;
  Provider provider = 4;
  optional string  local_path = 5;
  optional string s3_bucket = 6;
  optional string s3_region = 7;
  optional string gcp_bucket = 8;
  Status status = 9;
  optional string status_failed_error = 10;
  optional int64 status_in_progress_progress = 11;
  bool is_encrypted = 12;
  bool is_compressed = 13;
  optional bytes iv = 14;
}

enum Provider {
  PROVIDER_UNKNOWN = 0;
  LOCAL = 1;
  S3 = 2;
  GCP = 3;
}

enum Status {
  STATUS_UNKNOWN = 0;
  IN_PROGRESS = 1;
  FAILED = 2;
  COMPLETED = 3;
}